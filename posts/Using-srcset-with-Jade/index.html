<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta content="width=device-width, initial-scale=1.0" name="viewport"><title>Jack Armley</title><link rel="stylesheet" href="/static/styles/styles.css"><script src="/static/libs/modernizr/modernizr.min.js"></script></head><body class="view-post"><header role="banner" aria-label="Site header" class="site-header"><div class="site-header-inner"><span class="site-navtoggle"></span><a href="/" aria-label="Home" class="site-logo">Jack Armley</a><nav role="navigation" aria-label="Site navigation" class="site-navigation"><ul><li><a href="/categories/work/index.html" aria-label="Work">Work</a></li><li><a href="/categories/notes/index.html" aria-label="Notes">Notes</a></li><li><a href="/about.html" aria-label="About">About</a></li></ul></nav></div></header><main role="main" aria-label="Page content" class="page-content"><article class="fullpost"><header style="background-color:#undefined" class="fullpost-header"><div class="fullpost-header-inner"><h1 class="fullpost-title">Simpler &lt;srcset&gt; with Jade</h1></div></header><div class="fullpost-body"><p>Responsive images, they’re so hot right now. Two specs are being shouted from every available rooftop: srcset and picture.</p>
<p>Rather than being an either/or thing, each has a distinct function: picture is for art-directed images (ie: providing different styles of image for different sizes) and srcset is for providing the correct version of the same image for different sized devices.</p>
<p>I won’t go into detail about srcset, <a href="https://ericportis.com/posts/2014/srcset-sizes/" target="_blank" rel="external">Eric Portis has done a fine job</a>, but will share this useful jade mixin that makes it simpler to implement:</p>
<script src="https://gist.github.com/jackarmley/d5a8f76ea85ff7381111.js"></script>

<p>The mixin takes two arguments: an image source and its alt text. The sizes needed to construct the srcset parameters are passed in using a seperate JSON file. You’ll see it called in the mixin as <code>site.data.images</code>.</p>
<script src="https://gist.github.com/jackarmley/4db26c1bb43220596b84.js"></script>

<p>Given as I use hexo (a flat file cms) to generate my site, it has JSON support built in. If you’re not using hexo, the jade API can deal with JSON files. It’s super easy with a build system like grunt (see the <a href="https://github.com/gruntjs/grunt-contrib-jade#data" target="_blank" rel="external">data</a> option on the grunt-contrib-jade plugin).</p>
<p>To make the sizes for each image, Andi Smith’s <a href="https://github.com/andismith/grunt-responsive-images" target="_blank" rel="external">Grunt Responsive Images</a> is a winner.</p>
<p>It’s called like so:</p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+image(<span class="symbol">'myimage</span>.png',<span class="symbol">'A</span> sample image, <span class="keyword">with</span> not much going on')</span><br></pre></td></tr></table></figure>
<p>As srcset is still patchy on the support front, I’d like to find a way to fallback to something like the BBC’s <a href="https://github.com/BBC-News/Imager.js/" target="_blank" rel="external">imager.js</a>, but for now it’s working well. If you use it and come up against any issues, feel free to ping me your fixes!</p>
</div></article></main><footer role="contentinfo" aria-label="Site footer" class="site-footer"><div class="site-footer-inner"><h2>Elsewhere&hellip;</h2><ul class="followme"><li data-link="twitter" class="followme-link"><a href="http://twitter.com/jackarmley" aria-label="On twitter @jackarmley (opens an external site)"><span aria-hidden="true">@jackarmley</span></a></li><li data-link="codepen" class="followme-link"><a href="http://codepen.io/jackarmley" aria-label="On Codepen as jackarmley (opens an external site)"><span aria-hidden="true">/ jackarmley</span></a></li><li data-link="github" class="followme-link"><a href="http://github.com/jackarmley" aria-label="On Github as jackarmley (opens an external site)"><span aria-hidden="true">/ jackarmley</span></a></li></ul></div></footer><script src="/static/scripts/app.js"></script></body></html>